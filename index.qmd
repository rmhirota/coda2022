---
title: "Automatização de \ne-mails usando R"
subtitle: "Coda 2022"
format:
  revealjs:
    theme: default
    self-contained: true
---

## Olá! `r emo::ji("wave")` {.smaller}

:::: {.columns}

::: {.column width="30%"}

```{r out.width = "220", fig.align = "left", echo = FALSE}
knitr::include_graphics("imgs/renata.jpg")
```
:::

::: {.column width="70%"}
**Renata Hirota** é jornalista de dados, formada na ECA-USP e no IME-USP. Lida com dados desde 2017 e atualmente trabalha na Associação Brasileira de Jurimetria. Colabora também com o Núcleo Jornalismo / Volt Data Lab, onde trabalha com análises de dados e desenvolvimento de ferramentas para jornalistas. Faz parte da comunidade R-Ladies São Paulo, que promove a diversidade de gênero na comunidade da linguagem de programação R.

[@renata_mh](https://twitter.com/renata_mh) | [Núcleo Jornalismo](https://www.nucleo.jor.br/) | [ABJ](http://abj.org.br/)

:::

::::

`rmhirota.github.io/coda2022`

## Newsletters do Núcleo


## O que vamos ver

- Criação de email
  - usando funções do `blastula`
  - usando templates em .Rmd
- Envio de email
- Automatização
  - cron
  - Github actions


## Criando um email

Podemos usar a função `compose_email`

```{r echo=TRUE}
blastula::compose_email(
  body = blastula::md(paste0(
    "# Header 1\n",
    "## Header 2\n",
    "Este é um email _automatizado_ utilizando **blastula**!"
  )),
  header = "Workshop Coda",
  footer = Sys.Date()
)
```

## Criando um email

Ou podemos usar um template de .Rmd

```
---
title: "Garimpo"
date: "`r format(Sys.Date(), '%d/%m/%Y')`"
output:
  blastula::blastula_email
---
```
